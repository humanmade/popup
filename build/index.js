(()=>{"use strict";var e,o={853:()=>{const e=window.wp.blocks,o=window.wp.element,r=window.wp.i18n,t=window.wp.blockEditor,n=window.wp.components,i=window.ReactJSXRuntime,p=[{value:"click",label:(0,r.__)("On click","hm-popup")},{value:"exit",label:(0,r.__)("On exit intent","hm-popup")}];(0,e.registerBlockType)("hm/popup",{edit:function({attributes:e,setAttributes:l}){const{...a}=(0,t.useBlockProps)(),{children:s,...c}=(0,t.useInnerBlocksProps)(a,{template:[["core/group",{lock:{remove:!1}},[["core/paragraph"]]]],allowedBlocks:["core/group"],templateLock:"insert"}),[u,h]=(0,o.useState)(!1);return(0,i.jsxs)("div",{...c,children:[(0,i.jsxs)(t.InspectorControls,{children:[(0,i.jsxs)(n.PanelBody,{children:["exit"===e.trigger&&(0,i.jsx)("p",{children:(0,r.__)("The popup will be invisible until the user moves their mouse cursor up and out of the window or tab.","hm-popup")}),(0,i.jsx)("p",{children:(0,r.__)("Clicking the background or pressing escape will close the popup.","hm-popup")}),(0,i.jsx)("p",{children:(0,r.__)('A link or button with the URL "#close" anywhere within the popup will also close it.',"hm-popup")})]}),(0,i.jsxs)(n.PanelBody,{children:[(0,i.jsx)(n.SelectControl,{label:(0,r.__)("Popup Trigger","hm-popup"),options:p,value:e.trigger,onChange:e=>l({trigger:e})}),"click"===e.trigger&&(0,i.jsx)(n.TextControl,{label:(0,r.__)("Anchor / ID","hm-popup"),help:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:(0,r.__)("You can set any button or link url to the following value to trigger this popup:","hm-popup")}),(0,i.jsxs)("p",{children:[(0,i.jsxs)("code",{children:["#",e.anchor]}),(0,i.jsx)(n.ClipboardButton,{variant:"secondary",text:`#${e.anchor}`,onCopy:()=>h(!0),onFinishCopy:()=>h(!1),children:u?"Copied!":"Copy Text"})]})]}),value:e.anchor||"",onChange:e=>l({anchor:e})}),"exit"===e.trigger&&(0,i.jsx)(n.RangeControl,{label:(0,r.__)("Cookie expiration","hm-popup"),help:(0,r.__)("Number of days before exit popup can be shown again to the current visitor","hm-popup"),value:e.cookieExpiration,onChange:e=>l({cookieExpiration:e}),min:0,max:30})]})]}),s]})},save:function({attributes:e}){const o=t.useBlockProps.save(),{children:r,...n}=t.useInnerBlocksProps.save(o);return(0,i.jsx)("dialog",{...n,"data-trigger":e.trigger||"click","data-expiry":e.cookieExpiration,"data-backdrop-opacity":(e.opacity||1)/100,"data-backdrop-color":e.backgroundColor,children:r})}})}},r={};function t(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return o[e](i,i.exports,t),i.exports}t.m=o,e=[],t.O=(o,r,n,i)=>{if(!r){var p=1/0;for(c=0;c<e.length;c++){r=e[c][0],n=e[c][1],i=e[c][2];for(var l=!0,a=0;a<r.length;a++)(!1&i||p>=i)&&Object.keys(t.O).every((e=>t.O[e](r[a])))?r.splice(a--,1):(l=!1,i<p&&(p=i));if(l){e.splice(c--,1);var s=n();void 0!==s&&(o=s)}}return o}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,n,i]},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={826:0,431:0};t.O.j=o=>0===e[o];var o=(o,r)=>{var n,i,p=r[0],l=r[1],a=r[2],s=0;if(p.some((o=>0!==e[o]))){for(n in l)t.o(l,n)&&(t.m[n]=l[n]);if(a)var c=a(t)}for(o&&o(r);s<p.length;s++)i=p[s],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},r=self.webpackChunkpopup=self.webpackChunkpopup||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})();var n=t.O(void 0,[431],(()=>t(853)));n=t.O(n)})();