(()=>{"use strict";var e,o={170:()=>{const e=window.wp.blocks,o=window.wp.element,i=window.wp.i18n,r=window.wp.blockEditor,t=window.wp.components,p=window.ReactJSXRuntime,s=[{value:"click",label:(0,i.__)("On click","hm-popup")},{value:"exit",label:(0,i.__)("On exit intent","hm-popup")},{value:"load",label:(0,i.__)("On page load","hm-popup")}],a=[{attributes:{opacity:{type:"number",default:75},trigger:{type:"string",default:"click",enum:["click","exit","load"]},cookieExpiration:{type:"number",default:7},dismissible:{type:"boolean",default:!0},dismissOnSubmit:{type:"boolean",default:!1}},save:({attributes:e})=>{const o=r.useBlockProps.save(),{children:i,...t}=r.useInnerBlocksProps.save(o);return(0,p.jsx)("dialog",{...t,"data-trigger":e.trigger||"click","data-expiry":e.cookieExpiration,"data-backdrop-opacity":(e.opacity||1)/100,"data-backdrop-color":e.backgroundColor,"data-dismissible":!1!==e.dismissible?"true":"false","data-dismiss-on-submit":e.dismissOnSubmit?"true":"false",children:i})}}];(0,e.registerBlockType)("hm/popup",{edit:function({attributes:e,setAttributes:a}){const{backgroundColor:n,style:l}=e,c=[];n&&c.push(`has-background-color has-${n}-background-color`),l?.background&&(l.backgroundImage=`url(${l.background?.url})`,l.backgroundSize=l.background?.backgroundSize||"cover");const{...u}=(0,r.useBlockProps)({className:c.join(" "),style:{}}),{children:d,...h}=(0,r.useInnerBlocksProps)(u,{template:[["core/group",{lock:{move:!0,remove:!0},backgroundColor:"white",style:{spacing:{padding:{top:"var:preset|spacing|40",bottom:"var:preset|spacing|40",left:"var:preset|spacing|40",right:"var:preset|spacing|40"}}}},[["core/paragraph"]]]],allowedBlocks:["core/group"],renderAppender:!1}),[g,b]=(0,o.useState)(!1);return(0,p.jsxs)("div",{...h,children:[(0,p.jsxs)(r.InspectorControls,{group:"default",children:[(0,p.jsxs)(t.PanelBody,{children:["exit"===e.trigger&&(0,p.jsx)("p",{children:(0,i.__)("The popup will be invisible until the user moves their mouse cursor up and out of the window or tab.","hm-popup")}),"load"===e.trigger&&(0,p.jsx)("p",{children:(0,i.__)("The popup will appear immediately when the page loads.","hm-popup")}),e.dismissible?(0,p.jsx)("p",{children:(0,i.__)("Clicking the background or pressing escape will close the popup.","hm-popup")}):(0,p.jsx)("p",{children:(0,i.__)("The popup cannot be closed by clicking the background or pressing escape.","hm-popup")}),(0,p.jsx)("p",{children:(0,i.__)('A link or button with the URL "#close" anywhere within the popup will also close it.',"hm-popup")})]}),(0,p.jsxs)(t.PanelBody,{children:[(0,p.jsx)(t.SelectControl,{label:(0,i.__)("Popup Trigger","hm-popup"),options:s,value:e.trigger,onChange:e=>a({trigger:e})}),"click"===e.trigger&&(0,p.jsx)(t.TextControl,{label:(0,i.__)("Anchor / ID","hm-popup"),help:(0,p.jsxs)(p.Fragment,{children:[(0,i.__)("You can set any button or link url to the following value to trigger this popup:","hm-popup"),(0,p.jsx)("br",{}),(0,p.jsxs)("code",{children:["#",e.anchor]}),(0,p.jsx)(t.ClipboardButton,{variant:"secondary",text:`#${e.anchor}`,onCopy:()=>b(!0),onFinishCopy:()=>b(!1),children:g?"Copied!":"Copy Text"})]}),value:e.anchor||"",onChange:e=>a({anchor:e})}),("exit"===e.trigger||"load"===e.trigger)&&(0,p.jsx)(t.RangeControl,{label:(0,i.__)("Cookie expiration","hm-popup"),help:(0,i.__)("Number of days before popup can be shown again to the current visitor","hm-popup"),value:e.cookieExpiration,onChange:e=>a({cookieExpiration:e}),min:0,max:30}),(0,p.jsx)(t.ToggleControl,{label:(0,i.__)("Dismissible","hm-popup"),help:(0,i.__)("Allow the popup to be closed by clicking the backdrop or pressing Escape.","hm-popup"),checked:!1!==e.dismissible,onChange:e=>a({dismissible:e})}),(0,p.jsx)(t.ToggleControl,{label:(0,i.__)("Dismiss on form submit","hm-popup"),help:(0,i.__)("Automatically close the popup when a form inside it is submitted.","hm-popup"),checked:!!e.dismissOnSubmit,onChange:e=>a({dismissOnSubmit:e})})]})]}),(0,p.jsx)(r.InspectorControls,{group:"styles",children:(0,p.jsx)(t.PanelBody,{children:(0,p.jsx)(t.RangeControl,{label:(0,i.__)("Backdrop opacity","hm-popup"),value:e.opacity,onChange:e=>a({opacity:e}),min:0,max:100,step:1})})}),d]})},save:function({attributes:e}){const o=r.useBlockProps.save(),{children:i,...t}=r.useInnerBlocksProps.save(o);return(0,p.jsx)("dialog",{...t,"data-trigger":e.trigger||"click","data-expiry":e.cookieExpiration,"data-backdrop-opacity":(e.opacity||1)/100,"data-backdrop-color":e.backgroundColor,"data-dismiss-on-submit":e.dismissOnSubmit?"true":"false",closedby:!1===e.dismissible?"none":"any",children:i})},deprecated:a})}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var p=i[e]={exports:{}};return o[e](p,p.exports,r),p.exports}r.m=o,e=[],r.O=(o,i,t,p)=>{if(!i){var s=1/0;for(c=0;c<e.length;c++){for(var[i,t,p]=e[c],a=!0,n=0;n<i.length;n++)(!1&p||s>=p)&&Object.keys(r.O).every(e=>r.O[e](i[n]))?i.splice(n--,1):(a=!1,p<s&&(s=p));if(a){e.splice(c--,1);var l=t();void 0!==l&&(o=l)}}return o}p=p||0;for(var c=e.length;c>0&&e[c-1][2]>p;c--)e[c]=e[c-1];e[c]=[i,t,p]},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};r.O.j=o=>0===e[o];var o=(o,i)=>{var t,p,[s,a,n]=i,l=0;if(s.some(o=>0!==e[o])){for(t in a)r.o(a,t)&&(r.m[t]=a[t]);if(n)var c=n(r)}for(o&&o(i);l<s.length;l++)p=s[l],r.o(e,p)&&e[p]&&e[p][0](),e[p]=0;return r.O(c)},i=globalThis.webpackChunkpopup=globalThis.webpackChunkpopup||[];i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i))})();var t=r.O(void 0,[350],()=>r(170));t=r.O(t)})();