(()=>{"use strict";var o,e={771:()=>{const o=window.wp.blocks,e=window.wp.element,r=window.wp.i18n,n=window.wp.blockEditor,t=window.wp.components,p=window.ReactJSXRuntime,i=[{value:"click",label:(0,r.__)("On click","hm-popup")},{value:"exit",label:(0,r.__)("On exit intent","hm-popup")}];(0,o.registerBlockType)("hm/popup",{edit:function({attributes:o,setAttributes:a}){const{backgroundColor:l,style:s}=o,c=[];l&&c.push(`has-background-color has-${l}-background-color`),s?.background&&(s.backgroundImage=`url(${s.background?.url})`,s.backgroundSize=s.background?.backgroundSize||"cover");const{...u}=(0,n.useBlockProps)({className:c.join(" "),style:{}}),{children:h,...d}=(0,n.useInnerBlocksProps)(u,{template:[["core/group",{lock:{move:!0,remove:!0},backgroundColor:"white",style:{spacing:{padding:{top:"var:preset|spacing|40",bottom:"var:preset|spacing|40",left:"var:preset|spacing|40",right:"var:preset|spacing|40"}}}},[["core/paragraph"]]]],allowedBlocks:["core/group"],renderAppender:!1}),[g,b]=(0,e.useState)(!1);return(0,p.jsxs)("div",{...d,children:[(0,p.jsxs)(n.InspectorControls,{group:"default",children:[(0,p.jsxs)(t.PanelBody,{children:["exit"===o.trigger&&(0,p.jsx)("p",{children:(0,r.__)("The popup will be invisible until the user moves their mouse cursor up and out of the window or tab.","hm-popup")}),(0,p.jsx)("p",{children:(0,r.__)("Clicking the background or pressing escape will close the popup.","hm-popup")}),(0,p.jsx)("p",{children:(0,r.__)('A link or button with the URL "#close" anywhere within the popup will also close it.',"hm-popup")})]}),(0,p.jsxs)(t.PanelBody,{children:[(0,p.jsx)(t.SelectControl,{label:(0,r.__)("Popup Trigger","hm-popup"),options:i,value:o.trigger,onChange:o=>a({trigger:o})}),"click"===o.trigger&&(0,p.jsx)(t.TextControl,{label:(0,r.__)("Anchor / ID","hm-popup"),help:(0,p.jsxs)(p.Fragment,{children:[(0,r.__)("You can set any button or link url to the following value to trigger this popup:","hm-popup"),(0,p.jsx)("br",{}),(0,p.jsxs)("code",{children:["#",o.anchor]}),(0,p.jsx)(t.ClipboardButton,{variant:"secondary",text:`#${o.anchor}`,onCopy:()=>b(!0),onFinishCopy:()=>b(!1),children:g?"Copied!":"Copy Text"})]}),value:o.anchor||"",onChange:o=>a({anchor:o})}),"exit"===o.trigger&&(0,p.jsx)(t.RangeControl,{label:(0,r.__)("Cookie expiration","hm-popup"),help:(0,r.__)("Number of days before exit popup can be shown again to the current visitor","hm-popup"),value:o.cookieExpiration,onChange:o=>a({cookieExpiration:o}),min:0,max:30})]})]}),(0,p.jsx)(n.InspectorControls,{group:"styles",children:(0,p.jsx)(t.PanelBody,{children:(0,p.jsx)(t.RangeControl,{label:(0,r.__)("Backdrop opacity","hm-popup"),value:o.opacity,onChange:o=>a({opacity:o}),min:0,max:100,step:1})})}),h]})},save:function({attributes:o}){const e=n.useBlockProps.save(),{children:r,...t}=n.useInnerBlocksProps.save(e);return(0,p.jsx)("dialog",{...t,"data-trigger":o.trigger||"click","data-expiry":o.cookieExpiration,"data-backdrop-opacity":(o.opacity||1)/100,"data-backdrop-color":o.backgroundColor,children:r})}})}},r={};function n(o){var t=r[o];if(void 0!==t)return t.exports;var p=r[o]={exports:{}};return e[o](p,p.exports,n),p.exports}n.m=e,o=[],n.O=(e,r,t,p)=>{if(!r){var i=1/0;for(c=0;c<o.length;c++){for(var[r,t,p]=o[c],a=!0,l=0;l<r.length;l++)(!1&p||i>=p)&&Object.keys(n.O).every(o=>n.O[o](r[l]))?r.splice(l--,1):(a=!1,p<i&&(i=p));if(a){o.splice(c--,1);var s=t();void 0!==s&&(e=s)}}return e}p=p||0;for(var c=o.length;c>0&&o[c-1][2]>p;c--)o[c]=o[c-1];o[c]=[r,t,p]},n.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),(()=>{var o={57:0,350:0};n.O.j=e=>0===o[e];var e=(e,r)=>{var t,p,[i,a,l]=r,s=0;if(i.some(e=>0!==o[e])){for(t in a)n.o(a,t)&&(n.m[t]=a[t]);if(l)var c=l(n)}for(e&&e(r);s<i.length;s++)p=i[s],n.o(o,p)&&o[p]&&o[p][0](),o[p]=0;return n.O(c)},r=globalThis.webpackChunkpopup=globalThis.webpackChunkpopup||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var t=n.O(void 0,[350],()=>n(771));t=n.O(t)})();